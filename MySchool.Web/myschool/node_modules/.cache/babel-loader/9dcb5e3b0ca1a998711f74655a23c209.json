{"ast":null,"code":"import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport auth from \"../modules/auth/store\";\nimport account from \"../modules/account/store\";\nimport dashboard from \"../modules/dashboard/store\";\nimport users from \"../modules/users/store\";\nimport home from \"../modules/home/store\";\n// CUBA\nimport layout from \"./modules/layout\";\nimport menu from \"./modules/menu\";\nimport { alert } from \"./modules/alert\";\nVue.use(Vuex);\nexport const store = new Vuex.Store({\n  state: {\n    isLoading: false\n  },\n  modules: {\n    auth: auth,\n    dashboard: dashboard,\n    users: users,\n    account: account,\n    home: home,\n    // cuba\n    alert,\n    layout,\n    menu\n  },\n  optionsConfirm: {\n    timeout: false,\n    hideProgressBar: true,\n    type: \"error\"\n  },\n  getters: {\n    isLoading: state => state.isLoading\n  },\n  mutations: {\n    authSuccess() {\n      const hasToken = model => {\n        if (model.token) {\n          return true;\n        }\n        return false;\n      };\n      let isAuth = hasToken(auth.current);\n      auth = Object.assign(auth, {\n        isAuthenticated: isAuth\n      });\n      auth.isAuthenticated = isAuth;\n      localStorage.setItem(\"auth\", JSON.stringify(auth));\n    },\n    authLogout() {\n      auth.current = null;\n      auth.isAuthenticated = false;\n      localStorage.removeItem(\"auth\");\n    },\n    showLoading() {\n      this.state.isLoading = true;\n    },\n    hideLoading() {\n      this.state.isLoading = false;\n    },\n    // cuba\n    changeLang(state, payload) {\n      localStorage.setItem(\"currentLanguage\", payload.id);\n      localStorage.setItem(\"currentLanguageIcon\", payload.icon);\n      window.location.reload();\n    }\n  },\n  actions: {\n    // cuba\n    setLang({\n      commit\n    }, payload) {\n      commit(\"changeLang\", payload);\n    }\n  }\n});","map":{"version":3,"names":["Vue","Vuex","auth","account","dashboard","users","home","layout","menu","alert","use","store","Store","state","isLoading","modules","optionsConfirm","timeout","hideProgressBar","type","getters","mutations","authSuccess","hasToken","model","token","isAuth","current","Object","assign","isAuthenticated","localStorage","setItem","JSON","stringify","authLogout","removeItem","showLoading","hideLoading","changeLang","payload","id","icon","window","location","reload","actions","setLang","commit"],"sources":["C:/Projetos/Me/MySchool/src/MySchool.Web/myschool/src/store/index.js"],"sourcesContent":["import Vue from \"vue\";\r\nimport Vuex from \"vuex\";\r\n\r\nimport auth from \"../modules/auth/store\";\r\nimport account from \"../modules/account/store\";\r\nimport dashboard from \"../modules/dashboard/store\";\r\nimport users from \"../modules/users/store\";\r\nimport home from \"../modules/home/store\";\r\n// CUBA\r\nimport layout from \"./modules/layout\";\r\nimport menu from \"./modules/menu\";\r\nimport { alert } from \"./modules/alert\";\r\n\r\nVue.use(Vuex);\r\n\r\nexport const store = new Vuex.Store({\r\n  state: {\r\n    isLoading: false,\r\n  },\r\n  \r\n  modules: {\r\n    auth: auth,\r\n    dashboard: dashboard,\r\n    users: users,\r\n    account: account,\r\n    home: home,\r\n    // cuba\r\n    alert,\r\n    layout,\r\n    menu,\r\n  },\r\n\r\n  optionsConfirm: { timeout: false, hideProgressBar: true, type: \"error\" },\r\n\r\n  getters: {\r\n    isLoading: (state) => state.isLoading,\r\n  },\r\n  mutations: {\r\n    authSuccess() {\r\n      const hasToken = (model) => {\r\n        if (model.token) {\r\n          return true;\r\n        }\r\n        return false;\r\n      };\r\n\r\n      let isAuth = hasToken(auth.current);\r\n      auth = Object.assign(auth, { isAuthenticated: isAuth });\r\n      auth.isAuthenticated = isAuth;\r\n      localStorage.setItem(\"auth\", JSON.stringify(auth));\r\n    },\r\n    authLogout() {\r\n      auth.current = null;\r\n      auth.isAuthenticated = false;\r\n      localStorage.removeItem(\"auth\");\r\n    },\r\n    showLoading() {\r\n      this.state.isLoading = true;\r\n    },\r\n    hideLoading() {\r\n      this.state.isLoading = false;\r\n    },\r\n    // cuba\r\n    changeLang(state, payload) {\r\n      localStorage.setItem(\"currentLanguage\", payload.id);\r\n      localStorage.setItem(\"currentLanguageIcon\", payload.icon);\r\n      window.location.reload();\r\n    },\r\n  },\r\n  actions: {\r\n    // cuba\r\n    setLang({ commit }, payload) {\r\n      commit(\"changeLang\", payload);\r\n    },\r\n  },\r\n});\r\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,IAAI,MAAM,MAAM;AAEvB,OAAOC,IAAI,MAAM,uBAAuB;AACxC,OAAOC,OAAO,MAAM,0BAA0B;AAC9C,OAAOC,SAAS,MAAM,4BAA4B;AAClD,OAAOC,KAAK,MAAM,wBAAwB;AAC1C,OAAOC,IAAI,MAAM,uBAAuB;AACxC;AACA,OAAOC,MAAM,MAAM,kBAAkB;AACrC,OAAOC,IAAI,MAAM,gBAAgB;AACjC,SAASC,KAAK,QAAQ,iBAAiB;AAEvCT,GAAG,CAACU,GAAG,CAACT,IAAI,CAAC;AAEb,OAAO,MAAMU,KAAK,GAAG,IAAIV,IAAI,CAACW,KAAK,CAAC;EAClCC,KAAK,EAAE;IACLC,SAAS,EAAE;EACb,CAAC;EAEDC,OAAO,EAAE;IACPb,IAAI,EAAEA,IAAI;IACVE,SAAS,EAAEA,SAAS;IACpBC,KAAK,EAAEA,KAAK;IACZF,OAAO,EAAEA,OAAO;IAChBG,IAAI,EAAEA,IAAI;IACV;IACAG,KAAK;IACLF,MAAM;IACNC;EACF,CAAC;EAEDQ,cAAc,EAAE;IAAEC,OAAO,EAAE,KAAK;IAAEC,eAAe,EAAE,IAAI;IAAEC,IAAI,EAAE;EAAQ,CAAC;EAExEC,OAAO,EAAE;IACPN,SAAS,EAAGD,KAAK,IAAKA,KAAK,CAACC;EAC9B,CAAC;EACDO,SAAS,EAAE;IACTC,WAAW,GAAG;MACZ,MAAMC,QAAQ,GAAIC,KAAK,IAAK;QAC1B,IAAIA,KAAK,CAACC,KAAK,EAAE;UACf,OAAO,IAAI;QACb;QACA,OAAO,KAAK;MACd,CAAC;MAED,IAAIC,MAAM,GAAGH,QAAQ,CAACrB,IAAI,CAACyB,OAAO,CAAC;MACnCzB,IAAI,GAAG0B,MAAM,CAACC,MAAM,CAAC3B,IAAI,EAAE;QAAE4B,eAAe,EAAEJ;MAAO,CAAC,CAAC;MACvDxB,IAAI,CAAC4B,eAAe,GAAGJ,MAAM;MAC7BK,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAAChC,IAAI,CAAC,CAAC;IACpD,CAAC;IACDiC,UAAU,GAAG;MACXjC,IAAI,CAACyB,OAAO,GAAG,IAAI;MACnBzB,IAAI,CAAC4B,eAAe,GAAG,KAAK;MAC5BC,YAAY,CAACK,UAAU,CAAC,MAAM,CAAC;IACjC,CAAC;IACDC,WAAW,GAAG;MACZ,IAAI,CAACxB,KAAK,CAACC,SAAS,GAAG,IAAI;IAC7B,CAAC;IACDwB,WAAW,GAAG;MACZ,IAAI,CAACzB,KAAK,CAACC,SAAS,GAAG,KAAK;IAC9B,CAAC;IACD;IACAyB,UAAU,CAAC1B,KAAK,EAAE2B,OAAO,EAAE;MACzBT,YAAY,CAACC,OAAO,CAAC,iBAAiB,EAAEQ,OAAO,CAACC,EAAE,CAAC;MACnDV,YAAY,CAACC,OAAO,CAAC,qBAAqB,EAAEQ,OAAO,CAACE,IAAI,CAAC;MACzDC,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;IAC1B;EACF,CAAC;EACDC,OAAO,EAAE;IACP;IACAC,OAAO,CAAC;MAAEC;IAAO,CAAC,EAAER,OAAO,EAAE;MAC3BQ,MAAM,CAAC,YAAY,EAAER,OAAO,CAAC;IAC/B;EACF;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module"}