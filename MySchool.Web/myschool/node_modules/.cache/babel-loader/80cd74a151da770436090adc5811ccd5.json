{"ast":null,"code":"/* eslint-disable */\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport { store } from \"@/store\";\nimport login from \"../modules/account/views/index\";\nimport home from \"../modules/home/views/index\";\nconst expired = auth => {\n  let currentDate = moment(moment.utc(moment.utc().toDate()).toDate()).format();\n  let expiresDate = moment(auth.expireIn, \"DD/MM/YYYY HH:mm:ss\").format();\n  return moment(currentDate).isAfter(expiresDate);\n};\nconst ifAuthenticated = (to, from, next) => {\n  let auth = store.state.auth;\n  if (auth) {\n    if (expired(auth)) {\n      auth = null;\n      auth.isAuthenticated = false;\n      localStorage.removeItem(process.env.VUE_APP_AUTH);\n      next(\"/login\");\n      return;\n    }\n    if (auth.isAuthenticated) {\n      next(\"/success\");\n      console.log(\"Success\");\n      return;\n    }\n  }\n  next(\"/\");\n};\nVue.use(VueRouter);\nconst routes = [{\n  path: \"/success\",\n  redirect: \"/home\"\n}, {\n  path: '/',\n  name: 'login',\n  component: login\n}, {\n  path: '/home',\n  name: 'home',\n  component: home\n}];\nconst router = new Router({\n  routes,\n  base: \"/\",\n  mode: \"history\",\n  scrollBehavior() {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","store","login","home","expired","auth","currentDate","moment","utc","toDate","format","expiresDate","expireIn","isAfter","ifAuthenticated","to","from","next","state","isAuthenticated","localStorage","removeItem","process","env","VUE_APP_AUTH","console","log","use","routes","path","redirect","name","component","router","Router","base","mode","scrollBehavior","x","y"],"sources":["C:/Projetos/Me/MySchool/src/MySchool.Web/myschool/src/router/index.js"],"sourcesContent":["/* eslint-disable */\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport { store } from \"@/store\";\nimport login from \"../modules/account/views/index\";\nimport home from \"../modules/home/views/index\";\n\nconst expired = (auth) => {\n  let currentDate = moment(moment.utc(moment.utc().toDate()).toDate()).format();\n  let expiresDate = moment(auth.expireIn, \"DD/MM/YYYY HH:mm:ss\").format();\n\n  return moment(currentDate).isAfter(expiresDate);\n};\n\nconst ifAuthenticated = (to, from, next) => {\n  let auth = store.state.auth;\n\n  if (auth) {\n    if (expired(auth)) {\n      auth = null;\n      auth.isAuthenticated = false;\n      localStorage.removeItem(process.env.VUE_APP_AUTH);\n\n      next(\"/login\");\n      return;\n    }\n\n    if (auth.isAuthenticated) {\n      next(\"/success\");\n      console.log(\"Success\");\n\n      return;\n    }\n  }\n\n  next(\"/\");\n};\n\nVue.use(VueRouter)\n\n\nconst routes = [\n  {\n    path:\"/success\",\n    redirect:\"/home\"\n  },\n\n  {\n    path: '/',\n    name: 'login',\n    component: login\n  },\n  {\n    path: '/home',\n    name: 'home',\n    component: home\n  },\n\n\n  \n]\n\nconst router = new Router({\n  routes,\n  base: \"/\",\n  mode: \"history\",\n  scrollBehavior() {\n    return { x: 0, y: 0 };\n  },\n});\n\nexport default router\n"],"mappings":"AAAA;AACA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAClC,SAASC,KAAK,QAAQ,SAAS;AAC/B,OAAOC,KAAK,MAAM,gCAAgC;AAClD,OAAOC,IAAI,MAAM,6BAA6B;AAE9C,MAAMC,OAAO,GAAIC,IAAI,IAAK;EACxB,IAAIC,WAAW,GAAGC,MAAM,CAACA,MAAM,CAACC,GAAG,CAACD,MAAM,CAACC,GAAG,EAAE,CAACC,MAAM,EAAE,CAAC,CAACA,MAAM,EAAE,CAAC,CAACC,MAAM,EAAE;EAC7E,IAAIC,WAAW,GAAGJ,MAAM,CAACF,IAAI,CAACO,QAAQ,EAAE,qBAAqB,CAAC,CAACF,MAAM,EAAE;EAEvE,OAAOH,MAAM,CAACD,WAAW,CAAC,CAACO,OAAO,CAACF,WAAW,CAAC;AACjD,CAAC;AAED,MAAMG,eAAe,GAAG,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAC1C,IAAIZ,IAAI,GAAGJ,KAAK,CAACiB,KAAK,CAACb,IAAI;EAE3B,IAAIA,IAAI,EAAE;IACR,IAAID,OAAO,CAACC,IAAI,CAAC,EAAE;MACjBA,IAAI,GAAG,IAAI;MACXA,IAAI,CAACc,eAAe,GAAG,KAAK;MAC5BC,YAAY,CAACC,UAAU,CAACC,OAAO,CAACC,GAAG,CAACC,YAAY,CAAC;MAEjDP,IAAI,CAAC,QAAQ,CAAC;MACd;IACF;IAEA,IAAIZ,IAAI,CAACc,eAAe,EAAE;MACxBF,IAAI,CAAC,UAAU,CAAC;MAChBQ,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;MAEtB;IACF;EACF;EAEAT,IAAI,CAAC,GAAG,CAAC;AACX,CAAC;AAEDlB,GAAG,CAAC4B,GAAG,CAAC3B,SAAS,CAAC;AAGlB,MAAM4B,MAAM,GAAG,CACb;EACEC,IAAI,EAAC,UAAU;EACfC,QAAQ,EAAC;AACX,CAAC,EAED;EACED,IAAI,EAAE,GAAG;EACTE,IAAI,EAAE,OAAO;EACbC,SAAS,EAAE9B;AACb,CAAC,EACD;EACE2B,IAAI,EAAE,OAAO;EACbE,IAAI,EAAE,MAAM;EACZC,SAAS,EAAE7B;AACb,CAAC,CAIF;AAED,MAAM8B,MAAM,GAAG,IAAIC,MAAM,CAAC;EACxBN,MAAM;EACNO,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,SAAS;EACfC,cAAc,GAAG;IACf,OAAO;MAAEC,CAAC,EAAE,CAAC;MAAEC,CAAC,EAAE;IAAE,CAAC;EACvB;AACF,CAAC,CAAC;AAEF,eAAeN,MAAM"},"metadata":{},"sourceType":"module"}