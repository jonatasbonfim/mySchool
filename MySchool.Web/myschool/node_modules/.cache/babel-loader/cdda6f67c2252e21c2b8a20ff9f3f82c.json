{"ast":null,"code":"/* eslint-disable */\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport { store } from \"@/store\";\nimport login from \"../modules/account/views/index\";\nconst expired = auth => {\n  let currentDate = moment(moment.utc(moment.utc().toDate()).toDate()).format();\n  let expiresDate = moment(auth.expireIn, \"DD/MM/YYYY HH:mm:ss\").format();\n  return moment(currentDate).isAfter(expiresDate);\n};\nconst ifAuthenticated = (to, from, next) => {\n  let auth = store.state.auth;\n  if (auth) {\n    if (expired(auth)) {\n      auth = null;\n      auth.isAuthenticated = false;\n      localStorage.removeItem(process.env.VUE_APP_AUTH);\n      next(\"/login\");\n      return;\n    }\n    if (auth.isAuthenticated) {\n      next(\"/sucess\");\n      console.log(\"Sucess\");\n      return;\n    }\n  }\n  next(\"/\");\n};\nVue.use(VueRouter);\nconst routes = [{\n  path: '/',\n  name: 'login',\n  component: login\n}];\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.VUE_APP_BASE_URL,\n  routes\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","store","login","expired","auth","currentDate","moment","utc","toDate","format","expiresDate","expireIn","isAfter","ifAuthenticated","to","from","next","state","isAuthenticated","localStorage","removeItem","process","env","VUE_APP_AUTH","console","log","use","routes","path","name","component","router","mode","base","VUE_APP_BASE_URL"],"sources":["C:/Projetos/Me/MySchool/src/MySchool.Web/myschool/src/router/index.js"],"sourcesContent":["/* eslint-disable */\nimport Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport { store } from \"@/store\";\nimport login from \"../modules/account/views/index\"\n\nconst expired = (auth) => {\n  let currentDate = moment(moment.utc(moment.utc().toDate()).toDate()).format();\n  let expiresDate = moment(auth.expireIn, \"DD/MM/YYYY HH:mm:ss\").format();\n\n  return moment(currentDate).isAfter(expiresDate);\n};\n\nconst ifAuthenticated = (to, from, next) => {\n  let auth = store.state.auth;\n\n  if (auth) {\n    if (expired(auth)) {\n      auth = null;\n      auth.isAuthenticated = false;\n      localStorage.removeItem(process.env.VUE_APP_AUTH);\n\n      next(\"/login\");\n      return;\n    }\n\n    if (auth.isAuthenticated) {\n      next(\"/sucess\");\n      console.log(\"Sucess\");\n\n      return;\n    }\n  }\n\n  next(\"/\");\n};\n\nVue.use(VueRouter)\n\n\nconst routes = [\n  {\n    path: '/',\n    name: 'login',\n    component: login\n  },\n  \n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.VUE_APP_BASE_URL,\n  routes\n})\n\nexport default router\n"],"mappings":"AAAA;AACA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAClC,SAASC,KAAK,QAAQ,SAAS;AAC/B,OAAOC,KAAK,MAAM,gCAAgC;AAElD,MAAMC,OAAO,GAAIC,IAAI,IAAK;EACxB,IAAIC,WAAW,GAAGC,MAAM,CAACA,MAAM,CAACC,GAAG,CAACD,MAAM,CAACC,GAAG,EAAE,CAACC,MAAM,EAAE,CAAC,CAACA,MAAM,EAAE,CAAC,CAACC,MAAM,EAAE;EAC7E,IAAIC,WAAW,GAAGJ,MAAM,CAACF,IAAI,CAACO,QAAQ,EAAE,qBAAqB,CAAC,CAACF,MAAM,EAAE;EAEvE,OAAOH,MAAM,CAACD,WAAW,CAAC,CAACO,OAAO,CAACF,WAAW,CAAC;AACjD,CAAC;AAED,MAAMG,eAAe,GAAG,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAC1C,IAAIZ,IAAI,GAAGH,KAAK,CAACgB,KAAK,CAACb,IAAI;EAE3B,IAAIA,IAAI,EAAE;IACR,IAAID,OAAO,CAACC,IAAI,CAAC,EAAE;MACjBA,IAAI,GAAG,IAAI;MACXA,IAAI,CAACc,eAAe,GAAG,KAAK;MAC5BC,YAAY,CAACC,UAAU,CAACC,OAAO,CAACC,GAAG,CAACC,YAAY,CAAC;MAEjDP,IAAI,CAAC,QAAQ,CAAC;MACd;IACF;IAEA,IAAIZ,IAAI,CAACc,eAAe,EAAE;MACxBF,IAAI,CAAC,SAAS,CAAC;MACfQ,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;MAErB;IACF;EACF;EAEAT,IAAI,CAAC,GAAG,CAAC;AACX,CAAC;AAEDjB,GAAG,CAAC2B,GAAG,CAAC1B,SAAS,CAAC;AAGlB,MAAM2B,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAE5B;AACb,CAAC,CAEF;AAED,MAAM6B,MAAM,GAAG,IAAI/B,SAAS,CAAC;EAC3BgC,IAAI,EAAE,SAAS;EACfC,IAAI,EAAEZ,OAAO,CAACC,GAAG,CAACY,gBAAgB;EAClCP;AACF,CAAC,CAAC;AAEF,eAAeI,MAAM"},"metadata":{},"sourceType":"module"}